# API YaMDb
***

## Описание
Проект YaMDb собирает отзывы пользователей на произведения. Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий может быть расширен администратором.
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
Произведению может быть присвоен жанр из списка предустановленных. Новые жанры может создавать только администратор.
Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку. Из пользовательских оценок формируется рейтинг.
***
## Технологии
* Python 3.8.9
* Django 2.2.16
* djangorestframework 3.12.4

С полным списком технологий можно ознакомиться в файле requirements.txt
***
## Документация
С документацией проекта можно ознакомиться по [ссылке](http://127.0.0.1:8000/redoc/) после запуска проекта.
***
## Запуск проекта

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/GhoulNEC/api_yambd.git
```

```
cd api_yamdb
```

Создать и активировать виртуальное окружение:

```
python3 -m venv venv
```

```
source venv/bin/activate
```

```
python3 -m pip install --upgrade pip
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:

```
python3 manage.py runserver
```

## Пример получения API
### Неавторизованный пользователь
Неавторизированным пользователям доступен ограниченный функционал сервиса
Yamdb. Клиент может получить только разрешенные запросы такие, как GET, HEAD и OPTIONS.

`GET api/v1/titles/` - Получить список всех произведений. 
При указании параметров limit и offset выдача должна работать 
с пагинацией

```json
[
    {
        "count": 0,
        "next": "string",
        "previous": "string",
        "results": [
            {
                "id": 0,
                "name": "string",
                "year": 0,
                "rating": 0,
                "description": "string",
                "genre": [
                  {
                    "name": "string",
                    "slug": "string"
                  }
                ],
                "category": {
                    "name": "string",
                    "slug": "string"
                }
            }
        ]
    }
]
```

`GET api/v1/titles/{id}/` - Получение произведения по id

`GET api/v1/categories/` - Получение список категорий произведений. Так же для категорий
доступные только методы - GET, POST, DEL. Методы POST и DEL разрешены только администратору.

```json
[
    {
        "count": 0,
        "next": "string",
        "previous": "string",
        "results": [
            {
                "name": "string",
                "slug": "string"
            }
        ]
    }
]
```
`POST api/v1/genres/` - Добавление жанра. На жанры накладываются те же ограничения,
что и для категорий. GET - доступен всем.

```json
{
    "name": "string",
    "slug": "string"
}
```
За подробной информацией обращайтесь в [документацию]([ссылке](http://127.0.0.1:8000/redoc/))
при запущенном проекте.

### Авторизированный пользователь
......

## Management-command
Если у Вас есть чем наполнить базу данных, а именно у Вас имеется *.csv файл,
то management-command fill_db Вам облегчит жизнь. Для того чтобы
воспользоваться ею, необходимо прописать в командной строке вашего проекта следующее:
```
python manage.py fill_db -m [Model] -f [file]
```
Для подробной информации используйте:
```
python manage.py fill_db -h
```
***
## Авторы
* [Вячеслав Наприенко](https://github.com/Hellon048)
* [Максим Игнатов](https://github.com/Maxon57)
* [Роман Евстафьев](https://github.com/GhoulNEC)